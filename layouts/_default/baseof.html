<!DOCTYPE html>
<html lang="{{ .Site.Language.Lang }}">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>
      {{ if eq .Title .Site.Title }}
        {{ .Title }}
      {{ else }}
        {{ .Title }} |
        {{ .Site.Title }}
      {{ end }}
    </title>

    <meta name="author" content="{{ .Site.Params.Meta.Author }}" />
    <meta name="description" content="{{ .Site.Params.Meta.Description }}" />
    <meta
      name="keywords"
      content="{{ delimit .Site.Params.Meta.Keywords `, ` }}"
    />
    <meta
      name="copyright"
      content="© {{ now.Year }} {{ .Site.Params.Meta.Author }}"
    />

    <link
      rel="stylesheet"
      href="{{ (resources.Get `scss/main.scss` | resources.ExecuteAsTemplate `main.scss` . | resources.ToCSS | resources.Minify).Permalink }}"
    />
  </head>
  <body>
    <div class="pf-c-page pf-c-page--background">
      <a class="pf-c-skip-to-content pf-c-button pf-m-primary" href="#main"
        >Skip to content</a
      >

      {{ block "header" . }}
        <header class="pf-c-page__header">
          <div class="pf-c-page__header-brand">
            <a class="pf-c-page__header-brand-link" href="{{ .Site.BaseURL }}"
              ><img
                src="{{ .Site.Data.person.img }}"
                alt="Profile picture of {{ .Site.Data.person.name }}"
                class="pf-c-avatar"
              />

              <h1>
                {{ .Site.Data.person.name }} →
                {{ .Title }}
              </h1></a
            >
          </div>

          <div class="pf-c-page__header-tools">
            <div class="pf-c-page__header-tools-group">
              <div class="pf-c-page__header-tools-item">
                <a
                  href="{{ .Site.Data.person.cv }}"
                  target="_blank"
                  rel="noopener"
                  >CV</a
                >
              </div>

              <div class="pf-c-page__header-tools-item">
                {{ partial "streamstatus" (dict "ID" "youtubestatus" "Platform" "youtube" "Username" .Site.Data.person.youtube "BaseURL" .Site.BaseURL ) }}
              </div>

              <div class="pf-c-page__header-tools-item">
                {{ partial "streamstatus" (dict "ID" "twitchstatus" "Platform" "twitch" "Username" .Site.Data.person.twitch "BaseURL" .Site.BaseURL ) }}
              </div>
            </div>
          </div>
        </header>
      {{ end }}

      {{ block "main" . }}
        <main class="pf-c-page__main" tabindex="-1" id="main">
          {{ .Content }}
        </main>
      {{ end }}
    </div>
  </body>
</html>
