{{ define "header" }}
<header class="pf-c-page__header pf-c-page__header--max-width pf-x-u-blur pf-c-page__header--overlay pf-u-box-shadow-sm-bottom pf-u-pr-md">
  <div class="pf-c-page__header-tools pf-c-page__header-tools--max-width">
    <div class="pf-c-page__header-tools-group">
      <div class="pf-c-page__header-tools-item">
        <a
          href="{{ .Site.Data.person.cv }}"
          target="_blank"
          rel="noopener"
          class="pf-c-button pf-m-plain"
        >
          <span class="pf-c-button__icon pf-m-start">
            <i class="fas fa-book" aria-hidden="true"></i> </span
          >CV</a
        >
      </div>
    </div>

    <div class="pf-c-page__header-tools-group">
      <div class="pf-c-page__header-tools-item pf-u-p-md pf-u-pl-0">
        {{ partial "streamstatus" (dict "ID" "youtubestatus" "Platform"
        "youtube" "Username" .Site.Data.person.youtube "BaseURL" .Site.BaseURL )
        }}
      </div>

      <div class="pf-c-page__header-tools-item pf-u-p-md pf-u-pr-0">
        {{ partial "streamstatus" (dict "ID" "twitchstatus" "Platform" "twitch"
        "Username" .Site.Data.person.twitch "BaseURL" .Site.BaseURL ) }}
      </div>
    </div>
  </div>
</header>

{{ end }}

{{ define "main" }}
  <main class="pf-c-page__main pf-c-page__main--with-overlay pf-x-u-blur" tabindex="-1" id="main">
    <div class="pf-l-grid pf-m-gutter pf-u-p-xl pf-u-pb-md pf-x-person__header">
      <div class="pf-l-grid__item pf-m-12-col pf-m-5-col-on-lg pf-u-display-flex pf-u-flex-direction-column pf-u-align-items-center pf-u-justify-content-center">
        <h1 class="pf-u-font-size-xl pf-u-font-weight-bold pf-u-mb-xs">{{ .Site.Data.person.name }}</h1>
        <p>{{ .Site.Data.person.description }}</p>
      </div>

      <figure class="pf-l-grid__item pf-m-12-col pf-m-2-col-on-lg pf-u-display-flex pf-u-flex-direction-column pf-u-align-items-center pf-u-justify-content-center">
        <figcaption class="pf-x-c-avatar__figcaption">
          <div class="pf-c-chip">
            <span class="pf-c-chip__text">{{ .Site.Data.person.pronouns }}</span>
          </div> 
        </figcaption>

        <img
          src="{{ .Site.Data.person.img }}"
          alt="Profile picture of {{ .Site.Data.person.name }}"
          class="pf-c-avatar pf-m-xl pf-c-avatar--main"
        />
      </figure>

      <div class="pf-l-grid__item pf-m-12-col pf-m-5-col-on-lg pf-u-mt-lg pf-u-mt-0-on-lg pf-u-display-flex pf-u-align-items-center pf-u-justify-content-center">
          <a
            href="https://twitter.com/{{ .Site.Data.person.twitter }}"
            target="_blank"
            class="pf-c-button pf-m-primary pf-u-mr-md"
          >
          <span class="pf-c-button__icon pf-m-start">
            <i class="fas fa-plus-circle" aria-hidden="true"></i>
          </span>

          Follow on Twitter
        </a>

        {{ partial "contactmenu" (dict "ID" "contact" "Instagram" .Site.Data.person.instagram "Mastodon" .Site.Data.person.mastodon "Matrix" .Site.Data.person.matrix "Signal" .Site.Data.person.signal "Phone" .Site.Data.person.phone "Mail" .Site.Data.person.mail ) }}
      </div>
    </div> 

    <section class="pf-x-commitwrapper pf-u-mb-md" id="commit">
      {{ partial "lastcommit" (dict "ID" "lastcommit" "Username" .Site.Data.person.github "BaseURL" .Site.BaseURL ) }}
    </section> 

    <div class="pf-l-grid pf-m-gutter pf-l-grid--max-width">
      <div class="pf-l-grid__item pf-m-7-col">
        <section id="articles">
          <div class="pf-c-card">
            <div
              class="pf-c-card__title pf-l-flex pf-m-justify-content-space-between pf-m-align-items-center pf-u-py-xl"
            >
              <span>Articles</span>
            </div>
            <div class="pf-c-card__body twitterfeed">
              <ul class="pf-l-flex pf-m-column pf-m-space-items-sm">
                  {{ range .Pages }}
                    {{ if eq .Title "Articles" }}
                      {{ range first 3 .Pages }}
                        <li>
                          <a
                            href="{{ .Permalink }}"
                            class="pf-u-color-100 pf-x-m-no-decoration"
                          >
                            <div
                              class="pf-c-card pf-m-hoverable-raised"
                            >
                              <div class="pf-c-card__header pf-u-p-0">
                                <div class="pf-c-card__header-main pf-c-card__header-main--fluid">
                                  <img
                                    src="{{ ((index .Resources 0).Resize `500x`).Permalink }}"
                                    alt="{{ .Params.HeaderAlt }}"
                                    class="pf-c-card__header-main__img"
                                  />
                                </div>
                              </div>
                              <div class="pf-c-card__title pf-u-pt-md pf-u-pb-sm">{{ .Title }}</div>
                              <div class="pf-c-card__body pf-u-pb-sm">
                                {{ .Params.Excerpt }}
                              </div>
                              <div class="pf-c-card__footer pf-u-color-200">
                                {{ .Date | time.Format ":date_long" }}
                              </div>
                            </div>
                          </a>
                        </li>
                      {{ end }}
                    {{ end }}
                  {{ end }}
                </ul>
              
                <a
                  href="/articles"
                  class="pf-c-button pf-m-link pf-u-mt-lg"
                >
                  <span class="pf-c-button__icon pf-m-start">
                    <i class="fas fa-arrow-right" aria-hidden="true"></i> </span
                  >All articles</a
                >
            </div>
          </div>
        </section>
      </div>
      <div class="pf-l-grid__item pf-m-5-col">
        <section id="tweets">
          {{ partial "twitterfeed" (dict "ID" "twitterfeed" "Username" .Site.Data.person.twitter "BaseURL" .Site.BaseURL ) }}
        </section>
      </div>
    </div>

    <section id="projects">
      <div class="pf-c-card pf-u-px-lg pf-u-px-0-on-xl pf-u-mt-xl pf-x-u-transparent pf-x-u-color-light-100 pf-x-u-no-shadow">
        <div class="pf-x-c-projects--max-width">
        <div
          class="pf-c-card__title pf-l-flex pf-m-justify-content-space-between pf-m-align-items-center pf-u-pt-0 pf-u-pb-0 pf-u-px-0"
        >
          <span>Projects</span>
        </div>
        <div class="pf-c-card__body pf-u-px-0 pf-u-pb-0">
          <ul>
          {{ range .Site.Data.projects_gen }}
            <li>
              <h3 class="pf-u-font-size-xl pf-u-my-md">{{ .title }}</h3>
              <div class="pf-l-gallery pf-m-gutter pf-l-gallery--max-500">
                {{ range sort .projects "stars" "desc" }}
                  <div class="pf-l-gallery__item">
                    <a href="{{ .url }}" target="_blank" rel="noopener" class="pf-x-m-no-decoration pf-x-u-color-light-100">
                      <div class="pf-c-card pf-m-hoverable-raised pf-u-h-100" style="background: {{ safeCSS .background }}">
                        <div class="pf-c-card__header">
                          <div class="pf-c-card__header-main pf-u-w-100 pf-u-display-flex pf-u-align-items-center pf-u-justify-content-space-between">
                            <div class="pf-c-card__title pf-u-display-flex pf-u-align-items-center pf-u-justify-content-center">
                              <span class="pf-u-mr-sm">{{ .title }}</span>
                            </div><div class="pf-u-display-flex pf-u-align-items-center pf-u-justify-content-center pf-u-font-size-sm">
                              <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                              <span class="pf-u-ml-sm">{{ .date | time.Format ":date_long" }}</span>
                            </div>
                          </div>

                        </div>
                      
                        <div class="pf-c-card__body">
                          <p class="pf-u-mb-md">{{ .description }}</p>
                        
                          <div class="pf-c-chip-group">
                            <div class="pf-c-chip-group__main">
                              <ul class="pf-c-chip-group__list" role="list" aria-label="Topic list">
                                {{ range first 3 .topics }}
                                <li class="pf-c-chip-group__list-item">
                                  <div class="pf-c-chip pf-c-chip--transparent">
                                    <span class="pf-c-chip__text">{{ . }}</span>
                                  </div>
                                </li>
                                {{ end }}
                              </ul>
                            </div>
                          </div>
                        </div>
                        <div class="pf-c-card__footer pf-u-display-flex pf-u-align-items-center pf-u-justify-content-space-between pf-u-flex-direction-column pf-u-flex-direction-row-on-sm pf-x-u-color-light-200 pf-u-font-size-sm">
                          <div class="pf-u-display-flex pf-u-align-items-center pf-u-mb-md pf-u-mb-0-on-sm"><div class="pf-u-display-flex pf-u-align-items-center pf-u-justify-content-center pf-u-mr-sm">
                            <i class="fas fa-language" aria-hidden="true"></i>
                            <span class="pf-u-ml-sm">{{ .language }}</span>
                          </div>
                          <div class="pf-u-display-flex pf-u-align-items-center pf-u-justify-content-center">
                            <i class="fas fa-balance-scale" aria-hidden="true"></i>
                            <span class="pf-u-ml-sm">{{ .license }}</span>
                          </div></div><div class="pf-u-display-flex pf-u-align-items-center">
                          <div class="pf-u-display-flex pf-u-align-items-center pf-u-justify-content-center pf-u-mr-sm">
                            <i class="fas fa-star" aria-hidden="true"></i>
                            <span class="pf-u-ml-sm">{{ .stars }}</span>
                          </div>
                          <div class="pf-u-display-flex pf-u-align-items-center pf-u-justify-content-center pf-u-mr-sm">
                            <i class="fas fa-code-branch" aria-hidden="true"></i>
                            <span class="pf-u-ml-sm">{{ .forks }}</span>
                          </div>
                          <div class="pf-u-display-flex pf-u-align-items-center pf-u-justify-content-center">
                            <i class="fas fa-dot-circle" aria-hidden="true"></i>
                            <span class="pf-u-ml-sm">{{ .issues }}</span>
                          </div>
                          </div>
                        </div>
                      </div>
                    </a>
                  </div>
                {{ end }}
              </div>
            </li>
          {{ end }}
        </ul>
        </div></div>
      </div>
    </section>

    {{ partial "footer" . }}
  </main>
{{ end }}
