<div class="pf-c-dropdown pf-m-expanded">
  <button
    class="pf-c-dropdown__toggle pf-x-u-text-shadow-sm pf-x-u-text--freestanding"
    id="{{ .ID }}-expanded-button"
    aria-expanded="false"
    type="button"
  >
    <span class="pf-c-dropdown__toggle-text">
      <i class="fas fa-users pf-u-mr-xs" aria-hidden="true"></i>
      Socials
    </span>
    <span class="pf-c-dropdown__toggle-icon">
      <i class="fas fa-caret-down" aria-hidden="true"></i>
    </span>
  </button>

  <ul
    class="pf-c-dropdown__menu"
    id="{{ .ID }}-dropdown-menu"
    aria-labelledby="{{ .ID }}-expanded-button"
    hidden
  >
    {{ range .Socials }}
      {{ if .separator }}
        <li class="pf-c-divider" role="separator"></li>
      {{ else }}
        <li>
          <a
            class="pf-c-dropdown__menu-item"
            href="{{ if .unsafe }}
              {{ safeURL .link }}
            {{ else }}
              {{ .link }}
            {{ end }}"
            target="_blank"
            rel="noopener"
          >
            {{ .title }}
          </a>
        </li>
      {{ end }}
    {{ end }}
  </ul>
</div>

<noscript>Please enable JavaScript to view the contact menu.</noscript
><script type="module">
const expandedButton = document.getElementById("{{ .ID }}-expanded-button");
const dropdownMenu = document.getElementById("{{ .ID }}-dropdown-menu");

window.addEventListener("click", () => {
  expandedButton.ariaExpanded = "false";
  dropdownMenu.hidden = true;
});

expandedButton.addEventListener("click", (e) => {
  e.stopPropagation();

  if (expandedButton.ariaExpanded === "false") {
    expandedButton.ariaExpanded = "true";
  } else {
    expandedButton.ariaExpanded = "false";
  }

  dropdownMenu.hidden = !dropdownMenu.hidden;
});
</script>
